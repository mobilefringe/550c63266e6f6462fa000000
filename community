<script src="//kodekloud.s3.amazonaws.com/sites/550c63266e6f6462fa000000/d3888fcd0fecce8e286f68402e5cdea4/bootstrap-datepicker.js"></script>
<style>
    .inside_page_content{
        margin-left:0px;
        width: 100%;
        padding-left: 40px;
        padding-right: 40px;
    }
    textarea{
        resize:none;
    }
    .padding-side-none{
        padding-left: 0px;
        padding-right: 0px;
    }
    .padding-left-none{
        padding-left: 0px;
    }
    .padding-right-none{
        padding-right: 0px;
    }
    label{
        margin-top:20px;
    }
    label span{
        font-weight: normal;
        font-size: 13px;
    }
    
    .chartiable-span{
        font-weight:bold;
        display:block;
        font-size: 14px;
    }
    .promo_header{
        margin-bottom: 20px;
        margin-top: 30px;
    }
    .community-btn{
        margin-top:20px;
    }
    @media(max-width: 768px){
        .padding-side-none, .padding-left-none, .padding-right-none{
            padding-left: 0px;
            padding-right: 0px;
        }
        .page_banner {
          font-size: 17px;
        }
    }
</style>
<div id="loading_screen">
    <img alt="loading" src="//kodekloud.s3.amazonaws.com/sites/5447ebb66e6f641987020000/3604f5c26997bea3de504de139debcec/loading.gif"/>
</div>
<div  id="main_content" style="display:none">
    <ul class="breadcrumb">
        <li><a href="/home">Home</a> </li>
        <li><a href="/contact_us">Contact Us</a> </li>
        <li class="active">Community Booth Application Form</li>
    </ul>
    <div class="page_banner">
       Community Booth Application Form
    </div>
    <div class="inside_page_content">
        <p>Eastgate Square takes great pride in supporting its community. As a service to the area, Eastgate Square does not charge local non-profit/charitable organizations.</p>
    
        <p>
            <strong>Community Booth Application Form:</strong>
            <br/>
            Kindly complete this form to enable Eastgate Square to process your request and confirm a date. Once your request has been approved, a Facility Licence agreement will be sent to the contract person listed below. Please note that space will be granted on a first come, first serve basis. In addition, Eastgate Square reserves the right to refuse any request which it deems in conflict with the best interests of our merchants or shopping centre. Proof of liability insurance in the amount of two million dollars in Commerical General Liability and $250,000 Risk Tenants Liability with the following listed as additional insured: Eastgate Square GP Inc., Eastgate Square LP, Bentall Kennedy(Canada) LP, Bentall Kennedy (Canada) G.P. Ltd., by its General Partner, Bentall Kennedy(Canada) GP Ltd., their successors and assigns must be provided at least ten days prior to your commitment date.
        </p>
        <p>If you're a Hamilton & surrounding area based non-profit/charitable organization who whishes to use space in our mall for the purpose of fundraising or raising awareness, please submit the following::</p>
        <div id="send_contact_success" class="alert alert-success" role="alert" style="display:none">
              <span class="sr-only">Success</span>
              Thank you for contacting us. A member from our team will contact you shortly. 
        </div>
        <div id="send_contact_error" class="alert alert-danger" role="alert" style="display:none">
              <span class="sr-only">Error:</span>
              There was an error when trying to submit your request. Please ensure you have entered a valid email address and subject and please try again.
        </div>
        <form name="community_form" id="community_form" method="post">
            <p class="promo_header right_column_header">Business Contact Info</p>
            
            <div class="row">
                <div class="col-sm-6 col-md-6 padding-left-none">
                    <label for="legalName">Legal Name of Organization</label>
                    <input name="legalName" id="legalName" class="form-control" type="text" />
                </div>
                <div class="col-sm-6 col-md-6 padding-right-none">
                    <label for="operatingName">Operating Name of Organization <span>(if different)</span></label>
                    <input name="operatingName" id="operatingName" class="form-control" type="text"   />
                </div>
                
                <div class="col-sm-6 col-md-6 padding-left-none">
                    <label for="descOrg">Description of Organization</label>
                    <textarea name="descOrg" id="descOrg" class="form-control" rows="5" ></textarea>
                </div>
                <div class="col-sm-6 col-md-6 padding-right-none">
                    <div class="col-sm-12 col-md-12 padding-side-none">
                        <label for="address">Street Address</label>
                        <input name="address" id="address" class="form-control" type="text"  />
                    </div>
                    <div class="col-sm-12 col-md-12 padding-side-none">
                        <div class="col-sm-6 col-md-6 padding-left-none">
                            <label for="city">Town/City</label>
                            <input name="city" id="city" class="form-control" type="text"  />
                        </div>
                        <div class="col-sm-6 col-md-6 padding-right-none">
                            <label for="postal">Postal Code</label>
                            <input name="postal" id="postal" class="form-control" type="text"  />
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-md-12 padding-side-none">
               <div class="col-sm-6 col-md-6 padding-left-none">
                    <label for="email">Email Address</label>
                    <input name="email" id="email" class="form-control" type="email"  />
                </div>
                <div class="col-sm-6 col-md-6 padding-right-none">
                    <div class="col-sm-12 col-md-12 padding-side-none">
                        <div class="col-sm-6 col-md-6 padding-left-none">
                            <label for="phone">Telephone Number</label>
                            <input name="phone" id="phone" class="form-control" type="text"  />
                        </div>
                        <div class="col-sm-6 col-md-6 padding-right-none">
                            <label for="fax">Fax Number</label>
                            <input name="fax" id="fax" class="form-control" type="text"/>
                        </div>
                    </div>
                </div>
                </div>
            </div> 
     
     
            <p class="promo_header right_column_header">Contact Info</p>
            <div class="row">
                <div class="col-sm-6 col-md-6 padding-left-none">
                    <label for="contactName">Authorized Contact Person</label>
                    <input name="contactName" id="contactName" class="form-control" type="text" value  />
                </div>
                <div class="col-sm-6 col-md-6 padding-right-none">
                    <label for="insurerName">Name of Insurer</label>
                    <input name="insurerName" id="insurerName" class="form-control" type="text"   />
                </div>
                
                <div class="col-sm-4 col-md-4 padding-left-none">
                    <label for="charitable">
                        <span class="chartiable-span">Registered Charitable Number</span>
                        <span class="chartiable-span">Not for Profit Number</span>        
                    </label>
                    <input name="charitable" id="charitable" class="form-control" type="text" value  />
                </div>
                <div class="col-sm-4 col-md-4 padding-right-none">
                    <label for="lottery" style="margin-bottom:25px;">Lottery License <span># (If applicable)</span></label>
                    <input name="lottery" id="lottery" class="form-control" type="text" value  />
                </div>
                <div class="col-sm-4 col-md-4 padding-right-none">
                    <div class="col-sm-6 col-md-6 padding-right-none">
                        <label for="fromDate"  style="margin-bottom:25px;">From Date</label>
                        <input name="fromDate" id="fromDate" placeholder="mm/dd/yyyy" class="form-control" type="text" value  />
                    </div>
                     <div class="col-sm-6 col-md-6 padding-right-none">
                         <label for="toDate"  style="margin-bottom:25px;">To Date</label>
                        <input name="toDate" id="toDate" placeholder="mm/dd/yyyy" class="form-control" type="text" value  />
                     </div>
                </div>
                
                
               <div class="col-sm-6 col-md-6 padding-left-none">
                    <label for="purpose">Purpose for use of in-mall space</label>
                    <textarea name="purpose" id="purpose" class="form-control" rows="5" ></textarea>
                </div>
                <div class="col-sm-6 col-md-6 padding-side-none">
                    
                </div>
                <div class="col-sm-12 col-md-12 padding-side-none">
                   <div class="col-sm-6 col-md-6 padding-left-none">
                        <label for="anyother">Please specify any other requirements</label>
                        <textarea name="anyother" id="anyother" class="form-control" rows="5" ></textarea>
                    </div>
                   <div class="col-sm-6 col-md-6 padding-left-none">
                        <label for="attendance">Anticipated Attendance</label>
                        <input name="attendance" id="attendance" class="form-control" type="text"  />
                    </div>
                </div>
            </div>
            
            <button class="btn btn-default community-btn" type="submit">Submit</button>
        </form>
    </div>
</div>
<script>
    $(document).ready(function() {
        function renderAll (){
            $("#loading_screen").hide();
            $("#main_content").show();

            
            
        }
        
        loadMallData(renderAll);  

    
  
    });
    
            
    //     $('#community_form').submit(function(e) {

    // 		if($('#enterVerify').val() == $('#verifyNumHidden').val() ) {
    //             values = [];
    //             values = JSON.stringify($('#community_form').serializeArray());
    //             e.preventDefault();
    //             $.ajax({
    //                 url : "/api/v1/contact_us",
    //                 type: "POST",
    //                 data : {authenticity_token: '<%=form_authenticity_token%>' ,
    //                 form_data:values},
    //                 success: function(data, textStatus, jqXHR)
    //                 {
    //                     $('#send_contact_success').fadeIn();
    //                     $('#contact_form').find("input[type=text], textarea").val("");
    //                 },
    //                 error: function (jqXHR, textStatus, errorThrown)
    //                 {
    //                     $('#send_contact_error').fadeIn();
    //                 }
    //             });

    		    
    // 		}
    // 		else
    // 		{
    // 			alert("Please Enter Correct Verification Number");
    // 			randomgen();
    // 			e.preventDefault();
    // 		}
    // 	});
        $.fn.datepicker.defaults.format = "mm/dd/yyyy";
        $('#fromDate').datepicker({
            todayHighlight:true
        });
         $('#toDate').datepicker({});
                
        $('#community_form').submit(function(e) {
            if ($('#legalName').val().length === 0){
                $("html, body").animate({ scrollTop:  $("label[for='legalName']").offset().top }, 1000);
                $('#legalName').focus();
                return false;
            }else if ($('#descOrg').val().length === 0){
                $("html, body").animate({ scrollTop:  $("label[for='descOrg']").offset().top }, 1000);
                $('#descOrg').focus();
                return false;
            }else if ($('#address').val().length === 0){
                $("html, body").animate({ scrollTop:  $("label[for='address']").offset().top }, 1000);
                $('#address').focus();
                return false;
            }else if ($('#city').val().length === 0){
                $("html, body").animate({ scrollTop:  $("label[for='city']").offset().top }, 1000);
                $('#city').focus();
                return false;
            }else if ($('#postal').val().length === 0){
                $("html, body").animate({ scrollTop:  $("label[for='postal']").offset().top }, 1000);
                $('#postal').focus();
                return false;
            }else if (!validateEmail()){
                $("html, body").animate({ scrollTop:  $("label[for='email']").offset().top }, 1000);
                $('#email').focus();
                return false;
            }else if ($('#phone').val().length === 0){
                $("html, body").animate({ scrollTop:  $("label[for='phone']").offset().top }, 1000);
                $('#phone').focus();
                return false;
            }else if ($('#contactName').val().length === 0){
                $("html, body").animate({ scrollTop:  $("label[for='contactName']").offset().top }, 1000);
                $('#contactName').focus();
                return false;
            }else if ($('#insurerName').val().length === 0){
                $("html, body").animate({ scrollTop:  $("label[for='insurerName']").offset().top }, 1000);
                $('#insurerName').focus();
                return false;
            }else if ($('#charitable').val().length === 0){
                $("html, body").animate({ scrollTop:  $("label[for='charitable']").offset().top }, 1000);
                $('#charitable').focus();
                return false;
            }else if ($('#fromDate').val().length === 0){
                $("html, body").animate({ scrollTop:  $("label[for='fromDate']").offset().top }, 1000);
                $('#fromDate').focus();
                return false;
            }else if ($('#toDate').val().length === 0){
                $("html, body").animate({ scrollTop:  $("label[for='toDate']").offset().top }, 1000);
                $('#toDate').focus();
                return false;
            }else if ($('#purpose').val().length === 0){
                $("html, body").animate({ scrollTop:  $("label[for='purpose']").offset().top }, 1000);
                $('#purpose').focus();
                return false;
            }
            
            sendEmail();
            return false;
            
    	});
    	
    	function validateEmail(){
    	    var $email = $('#email'); //change form to id or containment selector
            var re = /[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}/igm;

            if ($email.val() == '' || !re.test($email.val()))
            {
                return false;
            }
            return true;
    	}
    	
    	function sendEmail(){
    	    
    	    var operatingName = $('#operatingName').val();
    	    var fax =  $('#fax').val();
    	    var lottery = $('#lottery').val();
    	   // var table =  $('#tableNumber').val();
    	   // var chair =  $('#chairNumber').val();
    	    
    	    if($('#operatingName').val().length === 0){
    	        operatingName = 'N/A';
    	    }
    	    
    	    if($('#fax').val().length === 0){
    	        fax = 'N/A';
    	    }
    	    
    	    if($('#lottery').val().length === 0){
    	        lottery = 'N/A';
    	    }
    	    
    	   // if($('#tableNumber').val().length === 0){
    	   //     table = '0';
    	   // }
    	    
    	   // if($('#chairNumber').val().length === 0){
    	   //     chair = '0';
    	   // }
    	    
    	    
	        $.ajax({
                url : "//mallmaverick.com/send_contact_email",
                type: "POST",
                data : { 
                    'send_to': "caitlin@mobilefringe.com", 
                    'subject': "Eastgate Community Rental Form Application", 
                    'body': {
                        "Legal Name of Organization": $('#legalName').val(), 
                        "Operating Name of Organization(if different)": operatingName, 
                        "Description of Organization": $('#descOrg').val(), 
                        "Street Address":$('#address').val(),
                        "Town/City":$('#city').val(), 
                        "Postal Code" : $('#postal').val(), 
                        "Email Address":$('#email').val(), 
                        "Telephone Number": $('#phone').val(), 
                        "Fax Number": fax,
                        "Authorized Contact Person":$('#contactName').val(),
                        "Name of Insurer": $('#insurerName').val(),
                        "Charitable # (BN/Registration Number)": $('#charitable').val(),
                        "Lottery License # (If applicable)":  $('#lottery').val(),
                        "From Date(mm/dd/yyyy)":  $('#fromDate').val(),
                        "To Date(mm/dd/yyyy)":  $('#toDate').val(),
                        "Purpose for use of in-mall space":  $('#purpose').val(),
                        "Please specify any other requirements":  $('#anyother').val(),
                        "Anticipated Attendance":  $('#attendance').val()
                    } 
                    
                },
                success: function(data, textStatus, jqXHR)
                {
                    $('#send_contact_success').fadeIn();
                    $('#community_form').find("input, textarea, select").val("");
                  
                    $("select option[value=0]").attr("selected", true);
                    $("html, body").animate({ scrollTop:  $("#send_contact_success").offset().top }, 1000);
                },
                error: function (jqXHR, textStatus, errorThrown)
                {
                   $('#send_contact_error').fadeIn();
                    $("html, body").animate({ scrollTop:  $("#send_contact_error").offset().top }, 1000);
                }
            });
    	}
</script>